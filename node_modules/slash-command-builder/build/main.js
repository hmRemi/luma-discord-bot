"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.SlashCommandBuilder = exports.SlashCommandSubcommandGroup = exports.SlashCommandSubcommand = void 0;
const lodash_1 = require("lodash");
const interfaces_1 = require("./interfaces");
const SlashCommandMethods_1 = __importDefault(require("./commons/SlashCommandMethods"));
class SlashCommandSubcommand extends SlashCommandMethods_1.default {
    constructor() {
        super(...arguments);
        this.type = interfaces_1.ApplicationCommandOptionTypes.Subcommand;
        this.name = '';
        this.description = '';
    }
    setName(value) {
        Reflect.set(this, 'name', value);
        return this;
    }
    setDescription(value) {
        Reflect.set(this, 'description', value);
        return this;
    }
    toJSON() {
        if ((0, lodash_1.isUndefined)(this.type)) {
            throw new Error('The `type` parameter should not be empty');
        }
        const response = {
            type: this.type,
            name: this.name,
            description: this.description,
            options: this.options,
        };
        return response;
    }
}
exports.SlashCommandSubcommand = SlashCommandSubcommand;
class SlashCommandSubcommandGroup {
    constructor() {
        this.type = interfaces_1.ApplicationCommandOptionTypes.SubcommandGroup;
        this.name = '';
        this.description = '';
        this.options = [];
    }
    setName(value) {
        Reflect.set(this, 'name', value);
        return this;
    }
    setDescription(value) {
        Reflect.set(this, 'description', value);
        return this;
    }
    addSubcommand(callback) {
        this.options.push(callback(new SlashCommandSubcommand()).toJSON());
        return this;
    }
    toJSON() {
        if ((0, lodash_1.isUndefined)(this.type)) {
            throw new Error('The `type` parameter should not be empty');
        }
        const response = {
            type: this.type,
            name: this.name,
            description: this.description,
            options: this.options,
        };
        return response;
    }
}
exports.SlashCommandSubcommandGroup = SlashCommandSubcommandGroup;
class SlashCommandBuilder extends SlashCommandMethods_1.default {
    constructor() {
        super(...arguments);
        this.type = interfaces_1.ApplicationCommandTypes.ChatInput;
        this.name = '';
        this.description = '';
        this.defaultPermission = true;
    }
    setType(value) {
        Reflect.set(this, 'type', value);
        return this;
    }
    setName(value) {
        Reflect.set(this, 'name', value);
        return this;
    }
    setDescription(value) {
        Reflect.set(this, 'description', value);
        return this;
    }
    setDefaultPermission(value) {
        Reflect.set(this, 'defaultPermission', value);
        return this;
    }
    addSubcommand(callback) {
        this.options.push(callback(new SlashCommandSubcommand()).toJSON());
        return this;
    }
    addSubcommandGroup(callback) {
        this.options.push(callback(new SlashCommandSubcommandGroup()).toJSON());
        return this;
    }
    toJSON() {
        return {
            type: this.type,
            name: this.name,
            description: this.description,
            options: this.options,
            default_permission: this.defaultPermission,
        };
    }
}
exports.SlashCommandBuilder = SlashCommandBuilder;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLG1DQUFxQztBQUVyQyw2Q0FNc0I7QUFFdEIsd0ZBQWdFO0FBV2hFLE1BQWEsc0JBQXVCLFNBQVEsNkJBQW1CO0lBQS9EOztRQUNrQixTQUFJLEdBQWtDLDBDQUE2QixDQUFDLFVBQVUsQ0FBQztRQUMvRSxTQUFJLEdBQVcsRUFBRSxDQUFDO1FBQ2xCLGdCQUFXLEdBQVcsRUFBRSxDQUFDO0lBNEIzQyxDQUFDO0lBMUJRLE9BQU8sQ0FBQyxLQUFhO1FBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUVqQyxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFTSxjQUFjLENBQUMsS0FBYTtRQUNqQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFeEMsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRU0sTUFBTTtRQUNYLElBQUksSUFBQSxvQkFBVyxFQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUMxQixNQUFNLElBQUksS0FBSyxDQUFDLDBDQUEwQyxDQUFDLENBQUM7U0FDN0Q7UUFFRCxNQUFNLFFBQVEsR0FBc0M7WUFDbEQsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO1lBQ2YsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO1lBQ2YsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXO1lBQzdCLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztTQUN0QixDQUFDO1FBRUYsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQztDQUNGO0FBL0JELHdEQStCQztBQVdELE1BQWEsMkJBQTJCO0lBQXhDO1FBQ2tCLFNBQUksR0FBa0MsMENBQTZCLENBQUMsZUFBZSxDQUFDO1FBQ3BGLFNBQUksR0FBVyxF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LElBQUksQ0FBQyxPQUFPO1lBQ3JCLGtCQUFrQixFQUFFLElBQUksQ0FBQyxpQkFBaUI7U0FDM0MsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQXZERCxrREF1REMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1VuZGVmaW5lZCB9IGZyb20gJ2xvZGFzaCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIEFwcGxpY2F0aW9uQ29tbWFuZEpTT04sXHJcbiAgQXBwbGljYXRpb25Db21tYW5kT3B0aW9uU3RydWN0dXJlLFxyXG4gIEFwcGxpY2F0aW9uQ29tbWFuZE9wdGlvblR5cGVzLFxyXG4gIEFwcGxpY2F0aW9uQ29tbWFuZFR5cGVzLFxyXG4gIENvbW1vblByb3BlcnRpZXNBbmRNZXRob2RzLFxyXG59IGZyb20gJy4vaW50ZXJmYWNlcyc7XHJcblxyXG5pbXBvcnQgU2xhc2hDb21tYW5kTWV0aG9kcyBmcm9tICcuL2NvbW1vbnMvU2xhc2hDb21tYW5kTWV0aG9kcyc7XHJcblxyXG4vKlxyXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxufCBTbGFzaENvbW1hbmRTdWJjb21tYW5kXHJcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG58XHJcbnwgLi4uXHJcbnxcclxuKi9cclxuXHJcbmV4cG9ydCBjbGFzcyBTbGFzaENvbW1hbmRTdWJjb21tYW5kIGV4dGVuZHMgU2xhc2hDb21tYW5kTWV0aG9kcyBpbXBsZW1lbnRzIENvbW1vblByb3BlcnRpZXNBbmRNZXRob2RzIHtcclxuICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogQXBwbGljYXRpb25Db21tYW5kT3B0aW9uVHlwZXMgPSBBcHBsaWNhdGlvbkNvbW1hbmRPcHRpb25UeXBlcy5TdWJjb21tYW5kO1xyXG4gIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgcmVhZG9ubHkgZGVzY3JpcHRpb246IHN0cmluZyA9ICcnO1xyXG5cclxuICBwdWJsaWMgc2V0TmFtZSh2YWx1ZTogc3RyaW5nKTogdGhpcyB7XHJcbiAgICBSZWZsZWN0LnNldCh0aGlzLCAnbmFtZScsIHZhbHVlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXREZXNjcmlwdGlvbih2YWx1ZTogc3RyaW5nKTogdGhpcyB7XHJcbiAgICBSZWZsZWN0LnNldCh0aGlzLCAnZGVzY3JpcHRpb24nLCB2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9KU09OKCk6IEFwcGxpY2F0aW9uQ29tbWFuZE9wdGlvblN0cnVjdHVyZSB7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQodGhpcy50eXBlKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBgdHlwZWAgcGFyYW1ldGVyIHNob3VsZCBub3QgYmUgZW1wdHknKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXNwb25zZTogQXBwbGljYXRpb25Db21tYW5kT3B0aW9uU3RydWN0dXJlID0ge1xyXG4gICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXHJcbiAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gIH1cclxufVxyXG5cclxuLypcclxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnwgU2xhc2hDb21tYW5kU3ViY29tbWFuZEdyb3VwXHJcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG58XHJcbnwgLi4uXHJcbnxcclxuKi9cclxuXHJcbmV4cG9ydCBjbGFzcyBTbGFzaENvbW1hbmRTdWJjb21tYW5kR3JvdXAgaW1wbGVtZW50cyBDb21tb25Qcm9wZXJ0aWVzQW5kTWV0aG9kcyB7XHJcbiAgcHVibGljIHJlYWRvbmx5IHR5cGU6IEFwcGxpY2F0aW9uQ29tbWFuZE9wdGlvblR5cGVzID0gQXBwbGljYXRpb25Db21tYW5kT3B0aW9uVHlwZXMuU3ViY29tbWFuZEdyb3VwO1xyXG4gIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgcmVhZG9ubHkgZGVzY3JpcHRpb246IHN0cmluZyA9ICcnO1xyXG4gIHB1YmxpYyByZWFkb25seSBvcHRpb25zOiBBcnJheTxBcHBsaWNhdGlvbkNvbW1hbmRPcHRpb25TdHJ1Y3R1cmU+ID0gW107XHJcblxyXG4gIHB1YmxpYyBzZXROYW1lKHZhbHVlOiBzdHJpbmcpOiB0aGlzIHtcclxuICAgIFJlZmxlY3Quc2V0KHRoaXMsICduYW1lJywgdmFsdWUpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldERlc2NyaXB0aW9uKHZhbHVlOiBzdHJpbmcpOiB0aGlzIHtcclxuICAgIFJlZmxlY3Quc2V0KHRoaXMsICdkZXNjcmlwdGlvbicsIHZhbHVlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhZGRTdWJjb21tYW5kKFxyXG4gICAgY2FsbGJhY2s6IChidWlsZGVyOiBTbGFzaENvbW1hbmRTdWJjb21tYW5kKSA9PiBTbGFzaENvbW1hbmRTdWJjb21tYW5kXHJcbiAgKTogdGhpcyB7XHJcbiAgICB0aGlzLm9wdGlvbnMucHVzaChjYWxsYmFjayhuZXcgU2xhc2hDb21tYW5kU3ViY29tbWFuZCgpKS50b0pTT04oKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9KU09OKCk6IEFwcGxpY2F0aW9uQ29tbWFuZE9wdGlvblN0cnVjdHVyZSB7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQodGhpcy50eXBlKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBgdHlwZWAgcGFyYW1ldGVyIHNob3VsZCBub3QgYmUgZW1wdHknKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXNwb25zZTogQXBwbGljYXRpb25Db21tYW5kT3B0aW9uU3RydWN0dXJlID0ge1xyXG4gICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXHJcbiAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gIH1cclxufVxyXG5cclxuLypcclxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnwgU2xhc2hDb21tYW5kQnVpbGRlclxyXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxufFxyXG58IC4uLlxyXG58XHJcbiovXHJcblxyXG5leHBvcnQgY2xhc3MgU2xhc2hDb21tYW5kQnVpbGRlciBleHRlbmRzIFNsYXNoQ29tbWFuZE1ldGhvZHMgaW1wbGVtZW50cyBDb21tb25Qcm9wZXJ0aWVzQW5kTWV0aG9kcyB7XHJcbiAgcHVibGljIHJlYWRvbmx5IHR5cGU6IEFwcGxpY2F0aW9uQ29tbWFuZFR5cGVzID0gQXBwbGljYXRpb25Db21tYW5kVHlwZXMuQ2hhdElucHV0O1xyXG4gIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgcmVhZG9ubHkgZGVzY3JpcHRpb246IHN0cmluZyA9ICcnO1xyXG4gIHB1YmxpYyByZWFkb25seSBkZWZhdWx0UGVybWlzc2lvbjogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIHB1YmxpYyBzZXRUeXBlKHZhbHVlOiBBcHBsaWNhdGlvbkNvbW1hbmRUeXBlcyk6IHRoaXMge1xyXG4gICAgUmVmbGVjdC5zZXQodGhpcywgJ3R5cGUnLCB2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0TmFtZSh2YWx1ZTogc3RyaW5nKTogdGhpcyB7XHJcbiAgICBSZWZsZWN0LnNldCh0aGlzLCAnbmFtZScsIHZhbHVlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXREZXNjcmlwdGlvbih2YWx1ZTogc3RyaW5nKTogdGhpcyB7XHJcbiAgICBSZWZsZWN0LnNldCh0aGlzLCAnZGVzY3JpcHRpb24nLCB2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0RGVmYXVsdFBlcm1pc3Npb24odmFsdWU6IGJvb2xlYW4pOiB0aGlzIHtcclxuICAgIFJlZmxlY3Quc2V0KHRoaXMsICdkZWZhdWx0UGVybWlzc2lvbicsIHZhbHVlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhZGRTdWJjb21tYW5kKFxyXG4gICAgY2FsbGJhY2s6IChidWlsZGVyOiBTbGFzaENvbW1hbmRTdWJjb21tYW5kKSA9PiBTbGFzaENvbW1hbmRTdWJjb21tYW5kXHJcbiAgKTogdGhpcyB7XHJcbiAgICB0aGlzLm9wdGlvbnMucHVzaChjYWxsYmFjayhuZXcgU2xhc2hDb21tYW5kU3ViY29tbWFuZCgpKS50b0pTT04oKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYWRkU3ViY29tbWFuZEdyb3VwKFxyXG4gICAgY2FsbGJhY2s6IChidWlsZGVyOiBTbGFzaENvbW1hbmRTdWJjb21tYW5kR3JvdXApID0+IFNsYXNoQ29tbWFuZFN1YmNvbW1hbmRHcm91cFxyXG4gICk6IHRoaXMge1xyXG4gICAgdGhpcy5vcHRpb25zLnB1c2goY2FsbGJhY2sobmV3IFNsYXNoQ29tbWFuZFN1YmNvbW1hbmRHcm91cCgpKS50b0pTT04oKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9KU09OKCk6IEFwcGxpY2F0aW9uQ29tbWFuZEpTT04ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxyXG4gICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXHJcbiAgICAgIGRlZmF1bHRfcGVybWlzc2lvbjogdGhpcy5kZWZhdWx0UGVybWlzc2lvbixcclxuICAgIH07XHJcbiAgfVxyXG59XHJcbiJdfQ==